(this["webpackJsonpbeam-patterns"]=this["webpackJsonpbeam-patterns"]||[]).push([[0],{190:function(e,a,t){},191:function(e,a,t){},192:function(e,a,t){},193:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(23),i=t.n(l),o=(t(91),t(24)),s=t(25),c=t(48),u=t(47),d=t(33),h=t(225);function m(e){if(e*=h.g,Math.abs(e)<.5){for(var a=Math.pow(e,2),t=1,n=1,r=2;r<12;r+=2)n+=t*=-a/(r*(r+1));return n}return Math.sin(e)/e}function b(e){return Object(h.d)(Object(h.b)(0,e))}var _=function(){function e(a,t){Object(o.a)(this,e),this.n_antennas=a,this.lambda_ratio=t,this.antenna_index=Object(h.h)(0,a),this.ang_const=2*t*h.g}return Object(s.a)(e,[{key:"ang_abs2rel",value:function(e){return this.ang_const*Math.sin(e)}},{key:"ang_abs2rel_2",value:function(e){for(var a=e,t=0;a>h.g/2;)t+=2*this.ang_const,a-=h.g;for(;a<-h.g/2;)t-=2*this.ang_const,a+=h.g;return t+this.ang_const*Math.sin(a)}},{key:"ang_rel2abs_2",value:function(e){for(var a=e,t=0;a>this.ang_const;)t+=h.g,a-=2*this.ang_const;for(;a<-this.ang_const;)t-=h.g,a+=2*this.ang_const;return t+Math.asin(a/this.ang_const)}},{key:"bp_steer_index",value:function(e){return Object(h.f)(Object(h.j)(this.antenna_index,(this.n_antennas-1)/2),e)}},{key:"bp_steer",value:function(e,a){var t=this.bp_steer_index(a).map((function(e){return b(e)}));return Object(h.c)(e,t)}},{key:"bp_sinc_index",value:function(e){return Object(h.f)(Object(h.j)(this.antenna_index,(this.n_antennas-1)/2),e/(2*h.g))}},{key:"bp_sinc",value:function(e){var a=this.bp_sinc_index(e),t=a.map((function(e){return m(e)})),n=Object(h.i)(Object(h.k)(t.map((function(e){return Math.pow(Object(h.a)(e),2)}))));return t=t.map((function(e){return e/n})),a.map((function(e){return m(e)}))}},{key:"set_ang_domain_rel",value:function(e){var a=this;this.ang_domain_rel=e;var t=e.map((function(e){return Object(h.f)(a.antenna_index,e)}));this.response_domain_rel=t.map((function(e){return b(e)}))}},{key:"array_response_rel",value:function(e){return Object(h.f)(this.response_domain_rel,e)}},{key:"set_ang_domain_abs",value:function(e){var a=this;this.ang_domain_abs=e;var t=e.map((function(e){return Object(h.f)(a.antenna_index,a.ang_abs2rel(e))}));console.log(t),this.response_domain_abs=t.map((function(e){return b(e)}))}},{key:"array_response_abs",value:function(e){return Object(h.f)(this.response_domain_abs,e)}},{key:"set_n_antennas",value:function(e){this.n_antennas=e,this.antenna_index=Object(h.h)(0,e),this.ang_domain_rel&&this.set_ang_domain_rel(this.ang_domain_rel),this.ang_domain_abs&&this.set_ang_domain_abs(this.ang_domain_abs)}},{key:"set_lambda_ratio",value:function(e){this.lambda_ratio=e,this.ang_const=2*e*h.g,this.ang_domain_abs&&this.set_ang_domain_abs(this.ang_domain_abs)}}]),e}();function p(e){return 2*e===Math.round(2*e)?e:null}var g=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){return Object(o.a)(this,t),a.call(this,e)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{height:null,width:null,id:"scatter-rel",oneToOne:!0,data:{datasets:[{label:"sinc",fill:!0,showLine:!0,lineTension:0,backgroundColor:"rgba(0, 0, 255, 0.1)",borderColor:"#1f8ef1",borderWidth:5,borderDash:[],borderDashOffset:0,pointRadius:0,data:this.props.beampattern},{label:"outer_circ",fill:!0,showLine:!0,lineTension:0,borderColor:"#000000",borderWidth:1,borderDash:[],borderDashOffset:0,pointRadius:0,data:this.props.circle},{label:"circ_025",fill:!1,showLine:!0,lineTension:0,borderColor:"#000000",borderWidth:1,borderDash:[],borderDashOffset:0,pointRadius:0,data:this.props.circle.map((function(e){return{x:.25*e.x,y:.25*e.y}}))},{label:"circ_050",fill:!1,showLine:!0,lineTension:0,borderColor:"#000000",borderWidth:1,borderDash:[],borderDashOffset:0,pointRadius:0,data:this.props.circle.map((function(e){return{x:.5*e.x,y:.5*e.y}}))},{label:"circ_075",fill:!1,showLine:!0,lineTension:0,borderColor:"#000000",borderWidth:1,borderDash:[],borderDashOffset:0,pointRadius:0,data:this.props.circle.map((function(e){return{x:.75*e.x,y:.75*e.y}}))}]},options:{animation:{duration:0},legend:{display:!1},tooltips:{enabled:!1},responsive:!0,maintainAspectRatio:!0,aspectRatio:1,scales:{yAxes:[{gridLines:{display:!0,drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{min:-1.2,max:1.2,fontColor:"#9a9a9a",stepSize:2,callback:p}}],xAxes:[{gridLines:{display:!0,drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{enabled:!1,min:-1.2,max:1.2,fontColor:"#9a9a9a",stepSize:2,callback:p}}]}}})}}]),t}(r.a.Component),f=t(216),v=t(217),E=t(218),y=t(219),w=t(220),x=t(221),L=t(222),k=t(223),C=t(226),O=t(228),j=t(230),A=t(229),D=t(227),S=(t(186),t(50));function M(e){return Math.round(180*e/h.g)+"\xb0"}function R(e){if(e*=h.g,Math.abs(e)<.5){for(var a=Math.pow(e,2),t=1,n=1,r=2;r<12;r+=2)n+=t*=-a/(r*(r+1));return n}return Math.sin(e)/e}var W=function(e){Object(c.a)(t,e);var a=Object(u.a)(t);function t(e){var n;Object(o.a)(this,t),(n=a.call(this,e)).handle_a_rel=function(e,a){var t=n.state.center+n.state.width/2;a>t&&(t=a),n.setState({center:(a+t)/2,width:t-a},n.update_beampattern_both)},n.handle_b_rel=function(e,a){var t=n.state.center-n.state.width/2;t>a&&(t=a),n.setState({center:(t+a)/2,width:a-t},n.update_beampattern_both)},n.handle_center_rel=function(e,a){n.setState({center:a},n.update_beampattern_both)},n.handle_width_rel=function(e,a){n.setState({width:a},n.update_beampattern_both)},n.handle_a_abs=function(e,a){var t=n.antenna.ang_abs2rel_2(a),r=n.state.center+n.state.width/2;t>r&&(r=t),n.setState({center:(t+r)/2,width:r-t},n.update_beampattern_both)},n.handle_b_abs=function(e,a){var t=n.antenna.ang_abs2rel_2(a),r=n.state.center-n.state.width/2;r>t&&(r=t),n.setState({center:(r+t)/2,width:t-r},n.update_beampattern_both)},n.handle_center_abs=function(e,a){var t=n.state.center-n.state.width/2,r=n.state.center+n.state.width/2,l=n.antenna.ang_rel2abs_2(t),i=n.antenna.ang_rel2abs_2(r),o=i-l;l=a-o/2,i=a+o/2,t=n.antenna.ang_abs2rel_2(l),r=n.antenna.ang_abs2rel_2(i),n.setState({center:(t+r)/2,width:r-t},n.update_beampattern_both)},n.handle_width_abs=function(e,a){var t=n.state.center-n.state.width/2,r=n.state.center+n.state.width/2,l=n.antenna.ang_rel2abs_2(t),i=n.antenna.ang_rel2abs_2(r),o=(l+i)/2;l=o-a/2,i=o+a/2,t=n.antenna.ang_abs2rel_2(l),r=n.antenna.ang_abs2rel_2(i),n.setState({center:(t+r)/2,width:r-t},n.update_beampattern_both)},n.handle_n_antennas=function(e,a){n.antenna.set_n_antennas(a),n.update_beampattern_rel(),n.update_beampattern_abs()},n.handle_lambda_ratio=function(e,a){n.antenna.set_lambda_ratio(a),n.update_beampattern_abs()},n.handle_bool_logarithmic=function(e,a){n.setState({bool_logarithmic:"L"==a},n.update_beampattern_both)},n.state={center:0,width:h.g,beampattern_rel:null,beampattern_abs:null,bool_logarithmic:!0};var r=Object(h.h)(-h.g,h.g,.01);return n.circle=r.map((function(e){return{x:Math.cos(e),y:Math.sin(e)}})).toArray(),n.antenna=new _(15,.5),n.antenna.set_ang_domain_rel(r),n.antenna.set_ang_domain_abs(r),n}return Object(s.a)(t,[{key:"update_beampattern_both",value:function(){this.update_beampattern_rel(),this.update_beampattern_abs()}},{key:"update_beampattern_rel",value:function(){var e=this.antenna.bp_sinc(this.state.width);e=this.antenna.bp_steer(e,this.state.center);var a=this.antenna.array_response_rel(e).map((function(e){return Math.pow(Object(h.a)(e),2)})).toArray(),t=Object(h.e)(a);a=a.map((function(e){return e/t})),this.state.bool_logarithmic&&(a=(a=a.map((function(e){return.25*Math.log10(e)+1}))).map((function(e){return e>0?e:0})));var n=this.circle.map((function(e,t){return{x:e.x*a[t],y:e.y*a[t]}}));this.setState({beampattern_rel:n})}},{key:"update_beampattern_abs",value:function(){var e=this.antenna.bp_sinc(this.state.width);e=this.antenna.bp_steer(e,this.state.center);var a=this.antenna.array_response_abs(e).map((function(e){return Math.pow(Object(h.a)(e),2)})).toArray(),t=Object(h.e)(a);a=a.map((function(e){return e/t})),this.state.bool_logarithmic&&(a=(a=a.map((function(e){return.25*Math.log10(e)+1}))).map((function(e){return e>0?e:0})));var n=this.circle.map((function(e,t){return{x:e.x*a[t],y:e.y*a[t]}}));this.setState({beampattern_abs:n})}},{key:"componentWillMount",value:function(){this.update_beampattern_rel(),this.update_beampattern_abs()}},{key:"render",value:function(){var e=this,a=this.state.center-this.state.width/2,t=this.state.center+this.state.width/2,n=this.antenna.ang_rel2abs_2(a),l=this.antenna.ang_rel2abs_2(t),i=(n+l)/2,o=l-n;return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,null,r.a.createElement(v.a,{lg:"3"},r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement("h3",null,"Beam-pattern coefficients"))),r.a.createElement(x.a,null,r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(L.a,null,"Absolute value"),r.a.createElement(d.a,{data:{datasets:[{label:"sinc",fill:!0,showLine:!1,lineTension:0,backgroundColor:"rgba(255, 0, 0, 0.1)",borderColor:"#f11e1f",borderWidth:5,borderDash:[],borderDashOffset:0,pointRadius:4,data:this.antenna.bp_sinc_index(this.state.width).map((function(e){return{x:e,y:R(e)}})).toArray()},{label:"sinc_eval",fill:!0,showLine:!0,lineTension:0,backgroundColor:"rgba(0, 0, 255, 0.1)",borderColor:"#1f8ef1",borderWidth:5,borderDash:[],borderDashOffset:0,pointRadius:0,data:Object(h.h)(-10,10,.1).map((function(e){return{x:e,y:R(e)}})).toArray()}]},options:{animation:{duration:0},legend:{display:!1},tooltips:{enabled:!1},responsive:!0,maintainAspectRatio:!0,aspectRatio:1,scales:{yAxes:[{gridLines:{display:!0,drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{min:-.4,max:1.2,fontColor:"#9a9a9a",stepSize:2}}],xAxes:[{gridLines:{display:!0,drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{enabled:!1,min:-10,max:10,fontColor:"#9a9a9a",stepSize:2}}]}}}))),r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement(L.a,null,"Phase argument"),r.a.createElement(d.a,{data:{datasets:[{label:"sinc",fill:!0,showLine:!1,lineTension:0,backgroundColor:"rgba(255, 0, 0, 0.1)",borderColor:"#f11e1f",borderWidth:5,borderDash:[],borderDashOffset:0,pointRadius:4,data:this.antenna.bp_steer_index(this.state.center).map((function(e,a){return{x:a,y:e}})).toArray()},{label:"sinc_eval",fill:!0,showLine:!0,lineTension:0,backgroundColor:"rgba(0, 0, 255, 0.1)",borderColor:"#1f8ef1",borderWidth:5,borderDash:[],borderDashOffset:0,pointRadius:0,data:Object(h.h)(0,this.antenna.n_antennas,.1).map((function(a){return{x:a,y:e.state.center*(a-(e.antenna.n_antennas-1)/2)}})).toArray()}]},options:{animation:{duration:0},legend:{display:!1},tooltips:{enabled:!1},responsive:!0,maintainAspectRatio:!0,aspectRatio:1,scales:{yAxes:[{gridLines:{display:!0,drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{min:-h.g*this.antenna.n_antennas/2,max:h.g*this.antenna.n_antennas/2,fontColor:"#9a9a9a",stepSize:h.g*this.antenna.n_antennas/2}}],xAxes:[{gridLines:{display:!0,drawBorder:!1,color:"rgba(255,255,255,0.1)",zeroLineColor:"transparent"},ticks:{enabled:!1,min:0,max:this.antenna.n_antennas,fontColor:"#9a9a9a",stepSize:5}}]}}})))))),r.a.createElement(v.a,{lg:"3"},r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement("h3",null,"Beam-pattern"),"Relative angle:",r.a.createElement("span",null,"\xa0\xa0\xa0\xa0"),r.a.createElement(S.InlineMath,null,"\\phi=2\\pi\\lambda\\sin(\\varphi)"))),r.a.createElement(x.a,null,r.a.createElement(g,{circle:this.circle,beampattern:this.state.beampattern_rel})),r.a.createElement(k.a,null,r.a.createElement(f.a,null,r.a.createElement(v.a,{md:"6"},r.a.createElement(A.a,{component:"legend"},"Left extreme"),r.a.createElement(D.a,{value:a,onChange:this.handle_a_rel,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",getAriaValueText:M,valueLabelFormat:M,min:-h.g,max:h.g,step:.01})),r.a.createElement(v.a,{md:"6"},r.a.createElement(A.a,{component:"legend"},"Center"),r.a.createElement(D.a,{value:this.state.center,onChange:this.handle_center_rel,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",getAriaValueText:M,valueLabelFormat:M,track:!1,min:-h.g,max:h.g,step:.01}))),r.a.createElement(f.a,null,r.a.createElement(v.a,{md:"6"},r.a.createElement(A.a,{component:"legend"},"Right extreme"),r.a.createElement(D.a,{value:t,onChange:this.handle_b_rel,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",getAriaValueText:M,valueLabelFormat:M,min:-h.g,max:h.g,step:.01})),r.a.createElement(v.a,{md:"6"},r.a.createElement(A.a,{component:"legend"},"Width"),r.a.createElement(D.a,{value:this.state.width,onChange:this.handle_width_rel,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",getAriaValueText:M,valueLabelFormat:M,min:0,max:2*h.g,step:.01})))))),r.a.createElement(v.a,{lg:"3"},r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement("h3",null,"Beam-pattern"),"Real angle:",r.a.createElement("span",null,"\xa0\xa0\xa0\xa0"),r.a.createElement(S.InlineMath,null,"\\varphi"))),r.a.createElement(x.a,null,r.a.createElement(g,{circle:this.circle,beampattern:this.state.beampattern_abs})),r.a.createElement(k.a,null,r.a.createElement(f.a,null,r.a.createElement(v.a,{md:"6"},r.a.createElement(A.a,{component:"legend"},"Left extreme"),r.a.createElement(D.a,{value:n,onChange:this.handle_a_abs,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",getAriaValueText:M,valueLabelFormat:M,min:-this.antenna.ang_const/2,max:this.antenna.ang_const/2,step:.01})),r.a.createElement(v.a,{md:"6"},r.a.createElement(A.a,{component:"legend"},"Center"),r.a.createElement(D.a,{value:i,onChange:this.handle_center_abs,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",getAriaValueText:M,valueLabelFormat:M,track:!1,min:-this.antenna.ang_const/2,max:this.antenna.ang_const/2,step:.01}))),r.a.createElement(f.a,null,r.a.createElement(v.a,{md:"6"},r.a.createElement(A.a,{component:"legend"},"Right extreme"),r.a.createElement(D.a,{value:l,onChange:this.handle_b_abs,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",getAriaValueText:M,valueLabelFormat:M,min:-this.antenna.ang_const/2,max:this.antenna.ang_const/2,step:.01})),r.a.createElement(v.a,{md:"6"},r.a.createElement(A.a,{component:"legend"},"Width"),r.a.createElement(D.a,{value:o,onChange:this.handle_width_abs,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",getAriaValueText:M,valueLabelFormat:M,min:0,max:this.antenna.ang_const,step:.01})))))),r.a.createElement(v.a,{lg:"3"},r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement("h3",null,"Antenna array properties"))),r.a.createElement(x.a,null,r.a.createElement(f.a,null,r.a.createElement(v.a,{md:"12"},r.a.createElement(A.a,{component:"legend"},"Number of antenna elements"),r.a.createElement(D.a,{value:this.antenna.n_antennas,onChange:this.handle_n_antennas,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:2,max:64,step:1}))),r.a.createElement(f.a,null,r.a.createElement(v.a,{md:"12"},r.a.createElement(A.a,{component:"legend"},r.a.createElement(S.InlineMath,{math:"\\frac{d}{\\lambda}"})),r.a.createElement(D.a,{value:this.antenna.lambda_ratio,onChange:this.handle_lambda_ratio,"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:.1,max:2,step:.05}))),r.a.createElement("hr",null),r.a.createElement(f.a,null,r.a.createElement(v.a,{md:"12"},r.a.createElement(A.a,{component:"legend"},"Scale"),r.a.createElement(O.a,{"aria-label":"Scale",name:"scale",value:this.state.bool_logarithmic?"L":"N",onChange:this.handle_bool_logarithmic},r.a.createElement(j.a,{value:"N",control:r.a.createElement(C.a,null),label:"Natural      [0,   1]"}),r.a.createElement(j.a,{value:"L",control:r.a.createElement(C.a,null),label:"Logarithmic  [-40, 0]"})))))),r.a.createElement(E.a,null,r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement("h3",null,"Sources"))),r.a.createElement(x.a,null,r.a.createElement("h4",null,r.a.createElement("a",{href:"https://github.com/Joanguitar/beam-patterns"},"Github")),r.a.createElement("h4",null,r.a.createElement("a",{href:"http://eprints.networks.imdea.org/1499/1/IEEE%20AWPL%20-%20Fully-digital%20beam%20patterns.pdf"},"Publication")))))))}}]),t}(r.a.Component),T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(190),t(191),t(192);document.body.classList.add("white-content");i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/beam-patterns",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/beam-patterns","/service-worker.js");T?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):z(a,e)}))}}()},86:function(e,a,t){e.exports=t(193)},91:function(e,a,t){}},[[86,1,2]]]);
//# sourceMappingURL=main.7b816109.chunk.js.map